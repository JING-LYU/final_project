<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Conclusion and discussion</title>

<script src="site_libs/header-attrs-2.10/header-attrs.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-2.5.1/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="about.html">About</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="exploration.html">Smokers' Insurance Preference</a>
    </li>
    <li>
      <a href="medical_cost.html">Insurance Charge Predication</a>
    </li>
  </ul>
</li>
<li>
  <a href="discussion.html">Conclusion and discussion</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Interactive tools
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="mapping.html">Mapping - Find your insurance conselting location</a>
    </li>
    <li>
      <a href="https://yiqunjin.shinyapps.io/shiny_dashboard/">Shiny Dashboard - Predicet your insurance Charge!</a>
    </li>
  </ul>
</li>
<li>
  <a href="final_report.html">Report</a>
</li>
<li>
  <a href="mailto:&lt;yw3772@cumc.columbia.com&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/wyshanw/final_project">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Conclusion and discussion</h1>

</div>


<pre class="r"><code>dataset_basic = read_csv(&quot;data/dataset_basic.csv&quot;)

dataset_basic = read_csv(&quot;data/dataset_basic.csv&quot;) %&gt;% 
  mutate(
         child = factor(child,levels = c(1,2),labels = c(&quot;yes&quot;,&quot;no&quot;)),
         sex = factor(sex,labels = c(&quot;male&quot;,&quot;female&quot;)),
         insure = factor(insure,levels = c(1,2,3,4,5,6,7),labels = c(&quot;Employer&quot;,&quot;Self-purchase&quot;,&quot;Medicare&quot;, &quot;Medicaid/Family Health+&quot;, &quot;Milit/CHAMPUS/Tricare&quot;, &quot;COBRA/Other&quot;, &quot;Uninsured&quot;)),
         smoker = factor(smoker,levels = c(1,2,3),labels = c(&quot;never&quot;,&quot;current&quot;,&quot;former&quot;)),
         agegroup = factor(agegroup,ordered = TRUE,labels = c(&quot;18-24yrs&quot;,&quot;25-44yrs&quot;, &quot;45-64yrs&quot;, &quot;65+yrs&quot;))
         ) %&gt;% 
  dplyr::select(insure,agegroup,smoker,bmi,child,sex)

#| my-chunkn, echo = FALSE, fig.width = 10,
analyse_smoke_sum = 
  dataset_basic %&gt;%
  mutate(smoker = ifelse(smoker == &quot;current&quot;, &quot;smoke&quot;, &quot;not_smoke&quot;)) %&gt;% 
  drop_na(smoker,insure) %&gt;% 
  group_by(smoker,insure) %&gt;% 
  summarize(n = n()) %&gt;% 
  mutate(insure = fct_reorder(insure,n)) %&gt;% 
  ungroup() %&gt;% 
  group_by(smoker) %&gt;% 
  summarize(sum = sum(n)) %&gt;% 
  pull()

analyse_smoke_insurancetype = dataset_basic %&gt;%
  mutate(smoker = ifelse(smoker == &quot;current&quot;, &quot;smoker&quot;, &quot;non-smoker&quot;)) %&gt;% 
  drop_na(smoker,insure) %&gt;% 
  group_by(smoker,insure) %&gt;% 
  summarize(n = n()) %&gt;% 
  mutate(insure = fct_reorder(insure,n)
         ) 

analyse_smoke_insurancetype$sum = rep(analyse_smoke_sum, each = 7)

analyse_smoke_insurancetype =
  analyse_smoke_insurancetype %&gt;% 
  mutate(
    freq = n/sum
  )

uninsure = analyse_smoke_insurancetype %&gt;% 
  mutate(insure = ifelse(insure == &quot;Uninsured&quot;, &quot;Uninsured&quot;, &quot;Insured&quot;))
  

smoke_plot1 = analyse_smoke_insurancetype %&gt;% 
  ggplot(aes(x = smoker , y = freq, fill = insure)) + 
  geom_bar(stat = &quot;identity&quot;,position = &quot;dodge&quot;) +
    labs(
      x = &#39;smoking status &#39;,
      y = &#39;proportion&#39;,
      title = &#39;The proportion of insurance in different smoking group &#39;,
      fill = &quot;Insurance type&quot;) +
  theme(legend.position = &quot;right&quot;)

smoke_plot2 = uninsure %&gt;% 
  ggplot(aes(x = smoker , y = freq, fill = insure)) + 
  geom_bar(stat = &quot;identity&quot;,position = &quot;dodge&quot;) +
    labs(
      x = &#39;smoking status &#39;,
      y = &#39;proportion&#39;,
      title = &#39;The proportion of insurance in different smoking group &#39;,
      fill = &quot;Insurance status&quot;)

cost_df = read.csv(&quot;data/medical_cost_clean.csv&quot;) %&gt;% 
  mutate(
    sex = as.factor(sex),
    smoker = as.factor(smoker),
    children_group = as.factor(children_group)
  )


cost_df_smoker = 
  cost_df %&gt;%
  mutate(
    smoker = fct_recode(
      smoker,
      &quot;Smoker&quot; = &quot;1&quot;,
      &quot;Non smoker&quot; = &quot;0&quot;
      ))
    
smoker_plotly &lt;- cost_df_smoker %&gt;% 
  plot_ly(
    x = ~smoker,
    y = ~charges,
    split = ~smoker,
    type = &#39;violin&#39;,
    box = list(
      visible = T
    ),
    meanline = list(
      visible = T
    )
  ) 

smoker_plotly &lt;- smoker_plotly %&gt;%
  layout(
    xaxis = list(
      title = &quot;smokeing status&quot;
    ),
    yaxis = list(
      title = &quot;Insurance charges&quot;,
      zeroline = F
    ),
    legend=list(title=list(text=&#39;&lt;b&gt; Smokering Status &lt;/b&gt;&#39;)),
    title = &quot;Smoking status and insurance charge&quot;
  )</code></pre>
<div id="conclusion" class="section level2">
<h2>Conclusion</h2>
<p>We mainly draw three conclusion from our data analysis about <a href="exploration.html">smoker insurance preference</a>and <a href="medical_cost.html">insurance charge</a>.</p>
<ol style="list-style-type: decimal">
<li><p>Smokers have higher uninsured rate</p></li>
<li><p>Smokers have less proportion of employer insurance and higher proportion of Medicaid comparing to non-smokers</p></li>
<li><p>Smoking increase insurance premiums</p></li>
</ol>
<p><br></p>
</div>
<div id="discussion" class="section level2">
<h2>Discussion</h2>
<p>To be more specifics about the first conclusion, We find smoking status may influence people’s purchase of insurance in two aspects. In the direct aspect, smokers may be required to pay for additional tobacco surcharge, which cost them less willingly to buy health coverage. In the indirect aspect, we find from our analysis that socioeconomic factors related to smokers, such as <strong>lower income and worse health status</strong>, may also hinder their access to health insurance.</p>
<pre class="r"><code>ggplotly(smoke_plot2)</code></pre>
<div id="htmlwidget-d61991a841da6be30dae" style="width:90%;height:460.8px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-d61991a841da6be30dae">{"x":{"data":[{"orientation":"v","width":[0.45,0.45,0.45,0.45,0.45,0.45,0.45,0.45,0.45,0.45,0.45,0.45],"base":[0,0,0,0,0,0,0,0,0,0,0,0],"x":[0.775,0.775,0.775,0.775,0.775,0.775,1.775,1.775,1.775,1.775,1.775,1.775],"y":[0.391814539210074,0.0588355548286859,0.208111865238368,0.226674298797939,0.00506991577397988,0.0180309101316543,0.313969571230982,0.0605809128630705,0.149930843706777,0.312586445366528,0.0105117565698479,0.0224066390041494],"text":["smoker: non-smoker<br />freq: 0.391814539<br />insure: Insured","smoker: non-smoker<br />freq: 0.058835555<br />insure: Insured","smoker: non-smoker<br />freq: 0.208111865<br />insure: Insured","smoker: non-smoker<br />freq: 0.226674299<br />insure: Insured","smoker: non-smoker<br />freq: 0.005069916<br />insure: Insured","smoker: non-smoker<br />freq: 0.018030910<br />insure: Insured","smoker: smoker<br />freq: 0.313969571<br />insure: Insured","smoker: smoker<br />freq: 0.060580913<br />insure: Insured","smoker: smoker<br />freq: 0.149930844<br />insure: Insured","smoker: smoker<br />freq: 0.312586445<br />insure: Insured","smoker: smoker<br />freq: 0.010511757<br />insure: Insured","smoker: smoker<br />freq: 0.022406639<br />insure: Insured"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(68,1,84,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Insured","legendgroup":"Insured","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.45,0.45],"base":[0,0],"x":[1.225,2.225],"y":[0.0914629160192984,0.130013831258645],"text":["smoker: non-smoker<br />freq: 0.091462916<br />insure: Uninsured","smoker: smoker<br />freq: 0.130013831<br />insure: Uninsured"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(253,231,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Uninsured","legendgroup":"Uninsured","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":45.7108066971081,"r":7.30593607305936,"b":42.130898021309,"l":43.1050228310502},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"The proportion of insurance in different smoking group ","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,2.6],"tickmode":"array","ticktext":["non-smoker","smoker"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["non-smoker","smoker"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"smoking status ","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.0195907269605037,0.411405266170578],"tickmode":"array","ticktext":["0.0","0.1","0.2","0.3","0.4"],"tickvals":[0,0.1,0.2,0.3,0.4],"categoryorder":"array","categoryarray":["0.0","0.1","0.2","0.3","0.4"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"proportion","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Insurance status","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"12ac3d1fbbb0":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"12ac3d1fbbb0","visdat":{"12ac3d1fbbb0":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>As for the second conclusion. An article from <a href="https://www.verywellhealth.com/health-insurance-surcharges-for-tobacco-users-state-and-federal-rules-5082888">“verywellhealth”</a> mentioned that employers may impose tobacco surcharge on their smoking employees. However, if the employees choose to take part in a tobacco cessation program, they are exempt from their surcharge. Thus, for the exempt of surcharge, employees are more likely to quit smoking to get the insurance. While for employees who insist in smoking, they would face with higher insurance premium, which may decrease their interest in buying employer insurance.Above all could explain our finding that <strong>“current smokers have the less proportion of employer insurance comparing to other groups”</strong>.</p>
<p>In addition, since the government designs Medicaid for people with lower income, income may play an important role in the association between high proportion of Medicaid and smoker.</p>
<pre class="r"><code>ggplotly(smoke_plot1)</code></pre>
<div id="htmlwidget-8923e86859659719b135" style="width:90%;height:460.8px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-8923e86859659719b135">{"x":{"data":[{"orientation":"v","width":[0.128571428571429,0.128571428571429],"base":[0,0],"x":[0.614285714285714,1.61428571428571],"y":[0.00506991577397988,0.0105117565698479],"text":["smoker: non-smoker<br />freq: 0.005069916<br />insure: Milit/CHAMPUS/Tricare","smoker: smoker<br />freq: 0.010511757<br />insure: Milit/CHAMPUS/Tricare"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(68,1,84,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Milit/CHAMPUS/Tricare","legendgroup":"Milit/CHAMPUS/Tricare","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.128571428571429,0.128571428571429],"base":[0,0],"x":[0.742857142857143,1.74285714285714],"y":[0.0180309101316543,0.0224066390041494],"text":["smoker: non-smoker<br />freq: 0.018030910<br />insure: COBRA/Other","smoker: smoker<br />freq: 0.022406639<br />insure: COBRA/Other"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(68,58,131,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"COBRA/Other","legendgroup":"COBRA/Other","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.128571428571429,0.128571428571429],"base":[0,0],"x":[0.871428571428571,1.87142857142857],"y":[0.0588355548286859,0.0605809128630705],"text":["smoker: non-smoker<br />freq: 0.058835555<br />insure: Self-purchase","smoker: smoker<br />freq: 0.060580913<br />insure: Self-purchase"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(49,104,142,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Self-purchase","legendgroup":"Self-purchase","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.128571428571429,0.128571428571429],"base":[0,0],"x":[1,2],"y":[0.0914629160192984,0.130013831258645],"text":["smoker: non-smoker<br />freq: 0.091462916<br />insure: Uninsured","smoker: smoker<br />freq: 0.130013831<br />insure: Uninsured"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(33,144,140,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Uninsured","legendgroup":"Uninsured","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.128571428571429,0.128571428571429],"base":[0,0],"x":[1.12857142857143,2.12857142857143],"y":[0.208111865238368,0.149930843706777],"text":["smoker: non-smoker<br />freq: 0.208111865<br />insure: Medicare","smoker: smoker<br />freq: 0.149930844<br />insure: Medicare"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(53,183,121,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Medicare","legendgroup":"Medicare","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.128571428571429,0.128571428571429],"base":[0,0],"x":[1.25714285714286,2.25714285714286],"y":[0.226674298797939,0.312586445366528],"text":["smoker: non-smoker<br />freq: 0.226674299<br />insure: Medicaid/Family Health+","smoker: smoker<br />freq: 0.312586445<br />insure: Medicaid/Family Health+"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(143,215,68,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Medicaid/Family Health+","legendgroup":"Medicaid/Family Health+","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.128571428571429,0.128571428571429],"base":[0,0],"x":[1.38571428571429,2.38571428571429],"y":[0.391814539210074,0.313969571230982],"text":["smoker: non-smoker<br />freq: 0.391814539<br />insure: Employer","smoker: smoker<br />freq: 0.313969571<br />insure: Employer"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(253,231,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Employer","legendgroup":"Employer","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":45.7108066971081,"r":7.30593607305936,"b":42.130898021309,"l":43.1050228310502},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"The proportion of insurance in different smoking group ","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,2.6],"tickmode":"array","ticktext":["non-smoker","smoker"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["non-smoker","smoker"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"smoking status ","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.0195907269605037,0.411405266170578],"tickmode":"array","ticktext":["0.0","0.1","0.2","0.3","0.4"],"tickvals":[0,0.1,0.2,0.3,0.4],"categoryorder":"array","categoryarray":["0.0","0.1","0.2","0.3","0.4"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"proportion","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Insurance type","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"12ac33d75fc0a":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"12ac33d75fc0a","visdat":{"12ac33d75fc0a":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Lastly, During the prediction model building process, we found that when holding all other variable fixed, smoking is associated with a 155% increase in insurance charges than non-smokers.</p>
<pre class="r"><code>smoker_plotly</code></pre>
<div id="htmlwidget-48dfa30121bf9345a184" style="width:90%;height:460.8px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-48dfa30121bf9345a184">{"x":{"visdat":{"12ac32495741a":["function () ","plotlyVisDat"]},"cur_data":"12ac32495741a","attrs":{"12ac32495741a":{"x":{},"y":{},"box":{"visible":true},"meanline":{"visible":true},"split":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"violin"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"smokeing status","type":"category","categoryorder":"array","categoryarray":["Non smoker","Smoker"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"Insurance charges","zeroline":false},"legend":{"title":{"text":"<b> Smokering Status <\/b>"}},"title":"Smoking status and insurance charge","hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(31,119,180,0.5)","x":["Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker","Non smoker"],"y":[1725.5523,4449.462,21984.47061,3866.8552,3756.6216,8240.5896,7281.5056,6406.4107,28923.13692,2721.3208,1826.843,11090.7178,1837.237,10797.3362,2395.17155,10602.385,13228.84695,4149.736,1137.011,6203.90175,14001.1338,14451.83515,12268.63225,2775.19215,2198.18985,4687.797,13770.0979,1625.43375,15612.19335,2302.3,3046.062,4949.7587,6272.4772,6313.759,6079.6715,20630.28351,3393.35635,3556.9223,12629.8967,2211.13075,3579.8287,8059.6791,13607.36875,5989.52365,8606.2174,4504.6624,30166.61817,4133.64165,1743.214,14235.072,6389.37785,5920.1041,6799.458,11741.726,11946.6259,7726.854,11356.6609,3947.4131,1532.4697,2755.02095,6571.02435,4441.21315,7935.29115,11033.6617,11073.176,8026.6666,11082.5772,2026.9741,10942.13205,5729.0053,3766.8838,12105.32,10226.2842,6186.127,3645.0894,21344.8467,5003.853,2331.519,3877.30425,2867.1196,10825.2537,11881.358,4646.759,2404.7338,11488.31695,30259.99556,11381.3254,8601.3293,6686.4313,7740.337,1705.6245,2257.47525,10115.00885,3385.39915,9634.538,6082.405,12815.44495,13616.3586,11163.568,1632.56445,2457.21115,2155.6815,1261.442,2045.68525,27322.73386,2166.732,27375.90478,3490.5491,18157.876,5138.2567,9877.6077,10959.6947,1842.519,5125.2157,7789.635,6334.34355,7077.1894,6948.7008,19749.38338,10450.552,5152.134,5028.1466,10407.08585,4830.63,6128.79745,2719.27975,4827.90495,13405.3903,8116.68,1694.7964,5246.047,2855.43755,6455.86265,10436.096,8823.279,8538.28845,11735.87905,1631.8212,4005.4225,7419.4779,7731.4271,3981.9768,5325.651,6775.961,4922.9159,12557.6053,4883.866,2137.6536,12044.342,1137.4697,1639.5631,5649.715,8516.829,9644.2525,14901.5167,2130.6759,8871.1517,13012.20865,7147.105,4337.7352,11743.299,13880.949,6610.1097,1980.07,8162.71625,3537.703,5002.7827,8520.026,7371.772,10355.641,2483.736,3392.9768,25081.76784,5012.471,10564.8845,5253.524,11987.1682,2689.4954,24227.33724,7358.17565,9225.2564,7443.64305,14001.2867,1727.785,12333.828,6710.1919,1615.7667,4463.2051,7152.6714,5354.07465,35160.13457,7196.867,24476.47851,12648.7034,1986.9334,1832.094,4040.55825,4260.744,13047.33235,5400.9805,11520.09985,11837.16,20462.99766,14590.63205,7441.053,9282.4806,1719.4363,7265.7025,9617.66245,2523.1695,9715.841,2803.69785,2150.469,12928.7911,9855.1314,4237.12655,11879.10405,9625.92,7742.1098,9432.9253,14256.1928,25992.82104,3172.018,20277.80751,2156.7518,3906.127,1704.5681,9249.4952,6746.7425,12265.5069,4349.462,12646.207,19442.3535,20177.67113,4151.0287,11944.59435,7749.1564,8444.474,1737.376,8124.4084,9722.7695,8835.26495,10435.06525,7421.19455,4667.60765,4894.7533,24671.66334,11566.30055,2866.091,6600.20595,3561.8889,9144.565,13429.0354,11658.37915,19144.57652,13822.803,12142.5786,13937.6665,8232.6388,18955.22017,13352.0998,13217.0945,13981.85035,10977.2063,6184.2994,4889.9995,8334.45755,5478.0368,1635.73365,11830.6072,8932.084,3554.203,12404.8791,14133.03775,24603.04837,8944.1151,9620.3307,1837.2819,1607.5101,10043.249,4751.07,2597.779,3180.5101,9778.3472,13430.265,8017.06115,8116.26885,3481.868,13415.0381,12029.2867,7639.41745,1391.5287,16455.70785,27000.98473,20781.48892,5846.9176,8302.53565,1261.859,11856.4115,30284.64294,3176.8159,4618.0799,10736.87075,2138.0707,8964.06055,9290.1395,9411.005,7526.70645,8522.003,16586.49771,14988.432,1631.6683,9264.797,8083.9198,14692.66935,10269.46,3260.199,11396.9002,4185.0979,8539.671,6652.5288,4074.4537,1621.3402,5080.096,2134.9015,7345.7266,9140.951,14418.2804,2727.3951,8968.33,9788.8659,6555.07035,7323.734819,3167.45585,18804.7524,23082.95533,4906.40965,5969.723,12638.195,4243.59005,13919.8229,2254.7967,5926.846,12592.5345,2897.3235,4738.2682,1149.3959,28287.89766,7345.084,12730.9996,11454.0215,5910.944,4762.329,7512.267,4032.2407,1969.614,1769.53165,4686.3887,21797.0004,11881.9696,11840.77505,10601.412,7682.67,10381.4787,15230.32405,11165.41765,1632.03625,13224.693,12643.3778,23288.9284,2201.0971,2497.0383,2203.47185,1744.465,20878.78443,2534.39375,1534.3045,1824.2854,15555.18875,9304.7019,1622.1885,9880.068,9563.029,4347.02335,12475.3513,1253.936,10461.9794,1748.774,24513.09126,2196.4732,12574.049,1967.0227,4931.647,8027.968,8211.1002,13470.86,6837.3687,5974.3847,6796.86325,2643.2685,3077.0955,3044.2133,11455.28,11763.0009,2498.4144,9361.3268,1256.299,11362.755,27724.28875,8413.46305,5240.765,3857.75925,25656.57526,3994.1778,9866.30485,5397.6167,11482.63485,24059.68019,9861.025,8342.90875,1708.0014,14043.4767,12925.886,19214.70553,13831.1152,6067.12675,5972.378,8825.086,8233.0975,27346.04207,6196.448,3056.3881,13887.204,10231.4999,3268.84665,11538.421,3213.62205,13390.559,3972.9247,12957.118,11187.6567,17878.90068,3847.674,8334.5896,3935.1799,1646.4297,9193.8385,10923.9332,2494.022,9058.7303,2801.2588,2128.43105,6373.55735,7256.7231,11552.904,3761.292,2219.4451,4753.6368,31620.00106,13224.05705,12222.8983,1664.9996,9724.53,3206.49135,12913.9924,1639.5631,6356.2707,17626.23951,1242.816,4779.6023,3861.20965,13635.6379,5976.8311,11842.442,8428.0693,2566.4707,5709.1644,8823.98575,7640.3092,5594.8455,7441.501,33471.97189,1633.0444,9174.13565,11070.535,16085.1275,9283.562,3558.62025,4435.0942,8547.6913,6571.544,2207.69745,6753.038,1880.07,11658.11505,10713.644,3659.346,9182.17,12129.61415,3736.4647,6748.5912,11326.71487,11365.952,10085.846,1977.815,3366.6697,7173.35995,9391.346,14410.9321,2709.1119,24915.04626,12949.1554,6666.243,13143.86485,4466.6214,18806.14547,10141.1362,6123.5688,8252.2843,1712.227,12430.95335,9800.8882,10579.711,8280.6227,8527.532,12244.531,3410.324,4058.71245,26392.26029,14394.39815,6435.6237,22192.43711,5148.5526,1136.3994,8703.456,6500.2359,4837.5823,3943.5954,4399.731,6185.3208,7222.78625,12485.8009,12363.547,10156.7832,2585.269,1242.26,9863.4718,4766.022,11244.3769,7729.64575,5438.7491,26236.57997,2104.1134,8068.185,2362.22905,2352.96845,3577.999,3201.24515,29186.48236,10976.24575,3500.6123,2020.5523,9541.69555,9504.3103,5385.3379,8930.93455,5375.038,10264.4421,6113.23105,5469.0066,1727.54,10107.2206,8310.83915,1984.4533,2457.502,12146.971,9566.9909,13112.6048,10848.1343,12231.6136,9875.6804,11264.541,12979.358,1263.249,10106.13425,6664.68595,2217.6012,6781.3542,10065.413,4234.927,9447.25035,14007.222,9583.8933,3484.331,8604.48365,3757.8448,8827.2099,9910.35985,11737.84884,1627.28245,8556.907,3062.50825,1906.35825,14210.53595,11833.7823,17128.42608,5031.26955,7985.815,5428.7277,3925.7582,2416.955,3070.8087,9095.06825,11842.62375,8062.764,7050.642,14319.031,6933.24225,27941.28758,11150.78,12797.20962,7261.741,10560.4917,6986.697,7448.40395,5934.3798,9869.8102,1146.7966,9386.1613,4350.5144,6414.178,12741.16745,1917.3184,5209.57885,13457.9608,5662.225,1252.407,2731.9122,7209.4918,4266.1658,4719.52405,11848.141,7046.7222,14313.8463,2103.08,1815.8759,7731.85785,28476.73499,2136.88225,1131.5066,3309.7926,9414.92,6360.9936,11013.7119,4428.88785,5584.3057,1877.9294,2842.76075,3597.596,7445.918,2680.9493,1621.8827,8219.2039,12523.6048,16069.08475,6117.4945,13393.756,5266.3656,4719.73655,11743.9341,5377.4578,7160.3303,4402.233,11657.7189,6402.29135,12622.1795,1526.312,12323.936,10072.05505,9872.701,2438.0552,2974.126,10601.63225,14119.62,11729.6795,1875.344,18218.16139,10965.446,7151.092,12269.68865,5458.04645,8782.469,6600.361,1141.4451,11576.13,13129.60345,4391.652,8457.818,3392.3652,5966.8874,6849.026,8891.1395,2690.1138,26140.3603,6653.7886,6282.235,6311.952,3443.064,2789.0574,2585.85065,4877.98105,5272.1758,1682.597,11945.1327,7243.8136,10422.91665,13555.0049,13063.883,2221.56445,1634.5734,2117.33885,8688.85885,4661.28635,8125.7845,12644.589,4564.19145,4846.92015,7633.7206,15170.069,2639.0429,14382.70905,7626.993,5257.50795,2473.3341,13041.921,5245.2269,13451.122,13462.52,5488.262,4320.41085,6250.435,25333.33284,2913.569,12032.326,13470.8044,6289.7549,2927.0647,6238.298,10096.97,7348.142,4673.3922,12233.828,32108.66282,8965.79575,2304.0022,9487.6442,1121.8739,9549.5651,2217.46915,1628.4709,12982.8747,11674.13,7160.094,6358.77645,11534.87265,4527.18295,3875.7341,12609.88702,28468.91901,2730.10785,3353.284,14474.675,9500.57305,26467.09737,4746.344,7518.02535,3279.86855,8596.8278,10702.6424,4992.3764,2527.81865,1759.338,2322.6218,7804.1605,2902.9065,9704.66805,4889.0368,25517.11363,4500.33925,16796.41194,4915.05985,7624.63,8410.04685,28340.18885,4518.82625,3378.91,7144.86265,10118.424,5484.4673,7986.47525,7418.522,13887.9685,6551.7501,5267.81815,1972.95,21232.18226,8627.5411,4433.3877,4438.2634,23241.47453,9957.7216,8269.044,36580.28216,8765.249,5383.536,12124.9924,2709.24395,3987.926,12495.29085,26018.95052,8798.593,1711.0268,8569.8618,2020.177,21595.38229,9850.432,6877.9801,4137.5227,12950.0712,12094.478,2250.8352,22493.65964,1704.70015,3161.454,11394.06555,7325.0482,3594.17085,8023.13545,14394.5579,9288.0267,3353.4703,10594.50155,8277.523,17929.30337,2480.9791,4462.7218,1981.5819,11554.2236,6548.19505,5708.867,7045.499,8978.1851,5757.41345,14349.8544,10928.849,13974.45555,1909.52745,12096.6512,13204.28565,4562.8421,8551.347,2102.2647,15161.5344,11884.04858,4454.40265,5855.9025,4076.497,15019.76005,10796.35025,11353.2276,9748.9106,10577.087,11286.5387,3591.48,11299.343,4561.1885,1674.6323,23045.56616,3227.1211,11253.421,3471.4096,11363.2832,20420.60465,10338.9316,8988.15875,10493.9458,2904.088,8605.3615,11512.405,5312.16985,2396.0959,10807.4863,9222.4026,5693.4305,8347.1643,18903.49141,14254.6082,10214.636,5836.5204,14358.36437,1728.897,8582.3023,3693.428,20709.02034,9991.03765,19673.33573,11085.5868,7623.518,3176.2877,3704.3545,9048.0273,7954.517,27117.99378,6338.0756,9630.397,11289.10925,2261.5688,10791.96,5979.731,2203.73595,12235.8392,5630.45785,11015.1747,7228.21565,14426.07385,2459.7201,3989.841,7727.2532,5124.1887,18963.17192,2200.83085,7153.5539,5227.98875,10982.5013,4529.477,4670.64,6112.35295,11093.6229,6457.8434,4433.9159,2154.361,6496.886,2899.48935,7650.77375,2850.68375,2632.992,9447.3824,8603.8234,13844.7972,13126.67745,5327.40025,13725.47184,13019.16105,8671.19125,4134.08245,18838.70366,5699.8375,6393.60345,4934.705,6198.7518,8733.22925,2055.3249,9964.06,5116.5004,36910.60803,12347.172,5373.36425,23563.01618,1702.4553,10806.839,3956.07145,12890.05765,5415.6612,4058.1161,7537.1639,4718.20355,6593.5083,8442.667,6858.4796,4795.6568,6640.54485,7162.0122,10594.2257,11938.25595,12479.70895,11345.519,8515.7587,2699.56835,14449.8544,12224.35085,6985.50695,3238.4357,4296.2712,3171.6149,1135.9407,5615.369,9101.798,6059.173,1633.9618,1241.565,15828.82173,4415.1588,6474.013,11436.73815,11305.93455,30063.58055,10197.7722,4544.2348,3277.161,6770.1925,7337.748,10370.91255,10704.47,1880.487,8615.3,3292.52985,3021.80915,14478.33015,4747.0529,10959.33,2741.948,4357.04365,4189.1131,8283.6807,1720.3537,8534.6718,3732.6251,5472.449,7147.4728,7133.9025,1515.3449,9301.89355,11931.12525,1964.78,1708.92575,4340.4409,5261.46945,2710.82855,3208.787,2464.6188,6875.961,6940.90985,4571.41305,4536.259,11272.33139,1731.677,1163.4627,19496.71917,7201.70085,5425.02335,12981.3457,4239.89265,13143.33665,7050.0213,9377.9047,22395.74424,10325.206,12629.1656,10795.93733,11411.685,10600.5483,2205.9808,1629.8335,2007.945],"box":{"visible":true},"meanline":{"visible":true},"type":"violin","name":"Non smoker","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(255,127,14,0.5)","x":["Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker","Smoker"],"y":[16884.924,27808.7251,39611.7577,36837.467,37701.8768,38711,35585.576,51194.55914,39774.2763,48173.361,38709.176,23568.272,37742.5757,47496.49445,34303.1672,23244.7902,14711.7438,17663.1442,16577.7795,37165.1638,39836.519,21098.55405,43578.9394,30184.9367,47291.055,22412.6485,15820.699,30942.1918,17560.37975,47055.5321,19107.7796,39556.4945,17081.08,32734.1863,18972.495,20745.9891,40720.55105,19964.7463,21223.6758,15518.18025,36950.2567,21348.706,36149.4835,48824.45,43753.33705,37133.8982,20984.0936,34779.615,19515.5416,19444.2658,17352.6803,38511.6283,29523.1656,12829.4551,47305.305,44260.7499,41097.16175,43921.1837,33750.2918,17085.2676,24869.8368,36219.40545,46151.1245,17179.522,42856.838,22331.5668,48549.17835,47896.79135,42112.2356,16297.846,21978.6769,38746.3551,24873.3849,42124.5153,34838.873,35491.64,42760.5022,47928.03,48517.56315,24393.6224,41919.097,13844.506,36085.219,18033.9679,21659.9301,38126.2465,15006.57945,42303.69215,19594.80965,14455.64405,18608.262,28950.4692,46889.2612,46599.1084,39125.33225,37079.372,26109.32905,22144.032,19521.9682,25382.297,28868.6639,35147.52848,48885.13561,17942.106,36197.699,22218.1149,32548.3405,21082.16,38245.59327,48675.5177,63770.42801,23807.2406,45863.205,39983.42595,45702.02235,58571.07448,43943.8761,15359.1045,17468.9839,25678.77845,39241.442,42969.8527,23306.547,34439.8559,40182.246,34617.84065,42983.4585,20149.3229,32787.45859,24667.419,27037.9141,42560.4304,40003.33225,45710.20785,46200.9851,46130.5265,40103.89,34806.4677,40273.6455,44400.4064,40932.4295,16657.71745,19361.9988,40419.0191,36189.1017,44585.45587,18246.4955,43254.41795,19539.243,23065.4207,36307.7983,19040.876,17748.5062,18259.216,24520.264,21195.818,18310.742,17904.52705,38792.6856,23401.30575,55135.40209,43813.8661,20773.62775,39597.4072,36021.0112,27533.9129,45008.9555,37270.1512,42111.6647,24106.91255,40974.1649,15817.9857,46113.511,46255.1125,19719.6947,27218.43725,29330.98315,44202.6536,19798.05455,48673.5588,17496.306,33732.6867,21774.32215,35069.37452,39047.285,19933.458,47462.894,38998.546,20009.63365,41999.52,41034.2214,23967.38305,16138.76205,19199.944,14571.8908,16420.49455,17361.7661,34472.841,24915.22085,18767.7377,35595.5898,42211.1382,16450.8947,21677.28345,44423.803,13747.87235,37484.4493,39725.51805,20234.85475,33475.81715,21880.82,44501.3982,39727.614,25309.489,48970.2476,39871.7043,34672.1472,19023.26,41676.0811,33907.548,44641.1974,16776.30405,41949.2441,24180.9335,36124.5737,38282.7495,34166.273,46661.4424,40904.1995,36898.73308,52590.82939,40941.2854,39722.7462,17178.6824,22478.6,23887.6627,19350.3689,18328.2381,37465.34375,21771.3423,33307.5508,18223.4512,38415.474,20296.86345,41661.602,26125.67477,60021.39897,20167.33603,47269.854,49577.6624,37607.5277,18648.4217,16232.847,26926.5144,34254.05335,17043.3414,22462.04375,24535.69855,14283.4594,47403.88,38344.566,34828.654,62592.87309,46718.16325,37829.7242,21259.37795,16115.3045,21472.4788,33900.653,36397.576,18765.87545,28101.33305,43896.3763,29141.3603],"box":{"visible":true},"meanline":{"visible":true},"type":"violin","name":"Smoker","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Overall, smokers’ insurance status are substantially influenced by smoking. A research from <a href="https://www.kff.org/uninsured/issue-brief/key-facts-about-the-uninsured-population/">Jennifer Tolbert (2020)</a> have found that people without health insurance have less access to healthcare due to higher cost. Higher insurance premium for smokers may deprive them of the right of medical care. Therefore, policies in tobacco surcharge should be imposed more prudently and wisely to reduce the healthcare inequality in smokers, and at the same time advocate smoking cessation.</p>
<p><br></p>
</div>
<div id="future-progression" class="section level2">
<h2>Future progression</h2>
<p>For people older than 65, they will have access to medicare insurance, which is significantly cheaper than private/self-purchased insurance. Since our prediction model is focused on private insurance, we suggest people older than 65 years old to be mindful when using our <a href="https://yiqunjin.shinyapps.io/shiny_dashboard/">prediction interactive page</a>.</p>
<p>For future analysis of relationship between smoking and health insurance, we would like to stratify states in the U.S. in order to eliminate the bias caused by policies, such as different tobacco surcharge across states.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
